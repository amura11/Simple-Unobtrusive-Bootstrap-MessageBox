!function(t,e,o){function a(){var o=e("#messagebox-modal");0===o.length&&(o=e(t.template).appendTo(document.body)),o.modal({backdrop:"static",keyboard:!1,show:!1})}function d(){e("body").on("click",'[data-toggle="messagebox"]',function(o){var a=e(o.target);t.Show({buttons:a.attr("data-buttons"),hideTitle:a.attr("data-hide-title"),message:a.attr("data-message"),identifier:a.attr("data-identifier"),remote:a.attr("data-url")})}),e("body").on("shown.bs.modal","#messagebox-modal",n.bind(null,"shown")),e("body").on("hidden.bs.modal","#messagebox-modal",n.bind(null,"hidden")),e("body").on("click","#messagebox-modal #ok-button",n.bind(null,"ok")),e("body").on("click","#messagebox-modal #cancel-button",n.bind(null,"cancel")),e("body").on("click","#messagebox-modal #close-button",n.bind(null,"close"))}function n(t){var o=e("#messagebox-modal"),a=o.attr("data-identifier");o.trigger(t+".messagebox."+a)}function s(t,o){e.ajax({type:"GET",url:o,success:function(e){t.htm(e),modal.modal("show")}})}function i(t,o){var a=o.split(",");e("button",t).hide();for(var d=0;d<a.length;d++)e("#"+a[d].trim()+"-button",t).show()}defaults={buttons:"close",hideTitle:!1,hideContent:!1,title:"Messsage",message:null,identifier:null,remote:null},t.template='         <div id="messagebox-modal" class="modal fade">             <div class="modal-dialog">                 <div class="modal-content">                    <div class="modal-header"><h4 class="modal-title"></h4></div>                     <div class="modal-body"></div>                     <div class="modal-footer">                         <button id="ok-button" type="button" class="btn btn-default" data-dismiss="modal">Ok</button>                         <button id="close-button" type="button" class="btn btn-default" data-dismiss="modal">Close</button>                         <button id="cancel-button" type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>                     </div>                 </div>             </div> 		</div> 		',t.Show=function(t){var o=e("#messagebox-modal"),a=o.find(".modal-body"),d=o.find(".modal-header"),n=o.find(".modal-footer"),l=e.extend(defaults,t);if(!l.message||!l.identifier)throw"Message and Identifier must be specified";o.attr("data-identifier",l.identifier),d.toggle(!l.hideTitle),a.toggle(!l.hideContent),d.html(l.title),i(n,l.buttons),l.remote?s(a,l.remote):(a.html(l.message),o.modal("show"))},e(function(){a(),d()})}(window.MessageBox=window.MessageBox||{},jQuery);